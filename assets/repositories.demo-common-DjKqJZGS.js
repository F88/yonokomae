import{u as r}from"./index-DPiUl691.js";import{a as n}from"./delay-utils-lugK4fzg.js";class u{delay;pack;constructor(t,a){this.pack=t,this.delay=a?.delay}async generateReport(t){await n(this.delay,t?.signal);const a=this.pack.patterns;if(a.length===0)return{id:r("battle"),themeId:"history",significance:"low",title:"No Patterns Available",subtitle:"",narrative:{overview:"",scenario:""},yono:{imageUrl:"about:blank",title:"",subtitle:"",description:"",power:50},komae:{imageUrl:"about:blank",title:"",subtitle:"",description:"",power:50},status:"success",provenance:[]};const i=Math.floor(Math.random()*a.length),e=a[i];return e?{id:r("battle"),themeId:e.themeId,significance:e.significance,title:e.title,subtitle:e.subtitle,narrative:{overview:e.overview,scenario:e.scenario},yono:e.yono,komae:e.komae,status:"success"}:{id:r("battle"),themeId:"history",significance:"low",title:"Pattern Load Error",subtitle:"",narrative:{overview:"",scenario:""},yono:{imageUrl:"about:blank",title:"",subtitle:"",description:"",power:50},komae:{imageUrl:"about:blank",title:"",subtitle:"",description:"",power:50},status:"error",provenance:[]}}}class d{delay;constructor(t){this.delay=t?.delay}async determineWinner(t,a){await n(this.delay,a?.signal);const{yono:i,komae:e}=t.battle,o=i.power-e.power;return{winner:o===0?"DRAW":o>0?"YONO":"KOMAE",reason:"power",powerDiff:o}}}export{u as D,d as a};

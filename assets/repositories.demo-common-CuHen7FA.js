import{u as r}from"./index-BM6gxZpV.js";import{a as s}from"./delay-utils-lugK4fzg.js";class y{delay;pack;constructor(t,a){this.pack=t,this.delay=a?.delay}async generateReport(t){await s(this.delay,t?.signal);const a=this.pack.patterns,e=a[Math.floor(Math.random()*a.length)];return{id:r("battle"),themeId:e.themeId,significance:e.significance,title:e.title,subtitle:e.subtitle,narrative:{overview:e.overview,scenario:e.scenario},yono:e.yono,komae:e.komae,status:"success"}}}class d{delay;constructor(t){this.delay=t?.delay}async determineWinner(t,a){await s(this.delay,a?.signal);const{yono:e,komae:n}=t.battle,o=e.power-n.power;return{winner:o===0?"DRAW":o>0?"YONO":"KOMAE",reason:"power",powerDiff:o}}}export{y as D,d as a};
